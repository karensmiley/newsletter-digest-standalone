
********************************************************************************
Digest generator v1.0.4 2025-12-12T0521 starting at 2025-12-12 05:30

================================================================================
üìß Standalone Newsletter Digest Generator
================================================================================

Step 1: Digest Configuration
--------------------------------------------------------------------------------

usage: digest_generator.py [-h] [-i] [-a ARTICLES_PER_AUTHOR] [-c CSV_PATH]
                           [-cc] [-d DAYS_BACK] [-f FEATURED_COUNT] [-hs] [-j]
                           [-nm] [-nn] [-o OUTPUT_FOLDER]
                           [-oc OUTPUT_FILE_CSV] [-oh OUTPUT_FILE_HTML] [-ra]
                           [-rows MAX_ROWS] [-rt RETRIES] [-s {1,2}]
                           [-skip SKIP_ROWS] [-t TEMP_FOLDER] [-ts] [-u] [-v]
                           [-w WILDCARDS] [-xf] [-xma]

Generate newsletter digest.

options:
  -h, --help            show this help message and exit
  -i, --interactive     Use interactive prompting for inputs.
  -a ARTICLES_PER_AUTHOR, --articles_per_author ARTICLES_PER_AUTHOR
                        Maximum number of articles to include for each
                        newsletter and author combination. 0=no limit, 1=most
                        recent only, 2-20 ok. (Substack RSS file max is 20.)
                        Default=0.
  -c CSV_PATH, --csv_path CSV_PATH
                        Path to CSV file with newsletter list (OR saved
                        article data, with --reuse_article_data Y).
                        Default='my_newsletters.csv'
  -cc, --collapse_categories
                        Collapse categories into detail sections in HTML page.
                        Default=No. (Works for HTML page only; all sections
                        will be expanded when pasted into Substack editor)
  -d DAYS_BACK, --days_back DAYS_BACK
                        How many days back to fetch articles. Default=7,
                        min=1.
  -f FEATURED_COUNT, --featured_count FEATURED_COUNT
                        How many articles to feature. Default=5, min=0 (none),
                        max=200.
  -hs, --hide_scores    Hide scores on articles outside the Featured and
                        Wildcard sections
  -j, --joint_authors   Highlight in a separate section all collaborative
                        articles (jointly authored by two or more people from
                        the newsletter CSV file). Requires -u (use Substack
                        API).
  -nm, --no_name_match  Do not use Author column in CSV newsletter file to
                        filter articles (partial matching). Matching is on by
                        default if Author column is in the newsletter file,
                        and has no effect if the cell is blank for a
                        newsletter row. This option disables matching even if
                        the column has names.
  -nn, --no_normalization
                        Suppress normalization of final scores to 1-100 range.
                        (Raw scores over 100.0 are still capped at final
                        score=100.0 regardless.)
  -o OUTPUT_FOLDER, --output_folder OUTPUT_FOLDER
                        Subfolder for saving default OUTPUT_FILE_CSV and
                        OUTPUT_FILE_HTML. Will be created if it does not
                        exist. Default: folder location of CSV_PATH.
  -oc OUTPUT_FILE_CSV, --output_file_csv OUTPUT_FILE_CSV
                        Output CSV filename for digest article data (e.g.,
                        'digest_articles.csv'). Default=none. Use '.' for a
                        default filename based on OUTPUT_FOLDER, CSV_PATH
                        filename, settings, and timestamp (if enabled).
  -oh OUTPUT_FILE_HTML, --output_file_html OUTPUT_FILE_HTML
                        Output HTML filename (e.g., 'digest_output.html' in
                        interactive mode). Omit or use '.' in runstring for a
                        default name based on OUTPUT_FOLDER, CSV_PATH
                        filename, settings, and timestamp (if enabled).
  -ra, --reuse_article_data
                        Use CSV_PATH file to read article data from an
                        OUTPUT_CSV file saved from a previous run of this
                        tool. Will bypass use of any API calls to read RSS,
                        HTML, or metrics, and will reuse previous scoring
                        calculations. Use this to experiment quickly with
                        different HTML output options or for repeatable
                        testing.
  -rows MAX_ROWS, --max_rows MAX_ROWS
                        Maximum number of rows of newsletter file to read
                        after skipping (default: no limit)
  -rt RETRIES, --retries RETRIES
                        Number of times to retry failed API calls with
                        increasing delays. Default=3. Retries will be logged
                        as ‚è± .
  -s {1,2}, --scoring_choice {1,2}
                        Scoring method: 1=Standard, 2=Daily Average.
                        Default=1. Weights: Likes=1, Comments=2, Restacks=3,
                        Length=0.05 per 100 words.
  -skip SKIP_ROWS, --skip_rows SKIP_ROWS
                        Number of rows of newsletter file to skip (default:
                        none)
  -t TEMP_FOLDER, --temp_folder TEMP_FOLDER
                        Subfolder for saving temporary HTML and JSON files
                        (results of API calls), e.g. 'temp'. Default='' (no
                        temp files saved)
  -ts, --timestamp      Add datetimestamp to the default output file names.
  -u, --use_substack_api
                        Use Substack API to get engagement metrics. Default is
                        to get metrics from HTML (faster, but restack counts
                        are not available)
  -v, --verbose         More detailed outputs while program is running.
  -w WILDCARDS, --wildcards WILDCARDS
                        Number of wildcard picks to include. Default=1, min=0
                        (none), max=200.
  -xf, --expand_featured_for_ties
                        Expand the Featured section when more than
                        --feature_count articles share the same top score
                        (they're tied).
  -xma, --expand_multiple_authors
                        When an article has multiple authors, expand the
                        article to multiple rows of the digest article CSV
                        (output) file for all authors included in the
                        newsletter input file. Note that multiple authors are
                        currently only detected when using the Substack API
                        (-u option).
